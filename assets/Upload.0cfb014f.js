import{y as a,B as l,T as e,s}from"./index.71f24fef.js";import{d as t,e as o,g as d,a2 as i,a3 as u,r,o as n,c,j as p,F as f,H as m,O as v,v as y,w as _}from"./vendor.2ec64855.js";const h=t({name:"Upload",setup(){const t=o(),i=o(),u=o(""),r=o([]),n=o(null);d((()=>{a.get("/classify/total").then((a=>{t.value=a.data.classify,i.value=t.value[0].id})).catch((a=>{console.log(a)}))}));return{BASE_URL:l,headers:{Authorization:e},classify:t,radio:i,story:u,submit:()=>{r.value.length<1?s("文件不能为空",!1):""!==u.trim()?(n.value.submit(),a.get("")):s("描述信息不能为空",!1)},fileList:r}}}),b=_();i("data-v-51d84565");const g={id:"upload"},V=p("i",{class:"el-icon-upload"},null,-1),U=p("div",{class:"el-upload__text"},[v("将文件拖到此处，或"),p("em",null,"点击上传")],-1),B=p("div",{class:"el-upload__tip"}," 只能上传 图片 文件，且不超过 1MB ",-1),L=p("p",{class:"title"},"请选择分类",-1),j=p("p",{class:"title"},"请填写描述",-1),k=p("br",null,null,-1),x=v("上传");u();const A=b(((a,l,e,s,t,o)=>{const d=r("el-upload"),i=r("el-radio"),u=r("el-radio-group"),_=r("el-input"),h=r("el-button");return n(),c("div",g,[p(d,{class:"upload-demo",drag:"",ref:"upload",multiple:"false","show-file-list":"true","auto-upload":"false",action:a.BASE_URL+"picture/upload","file-list":a.fileList,data:a.radio,headers:a.headers,submit:""},{tip:b((()=>[B])),default:b((()=>[V,U])),_:1},8,["action","file-list","data","headers"]),p("div",null,[L,p(u,{modelValue:a.radio,"onUpdate:modelValue":l[1]||(l[1]=l=>a.radio=l)},{default:b((()=>[(n(!0),c(f,null,m(a.classify,(a=>(n(),c(i,{label:a.id,key:a.id},{default:b((()=>[v(y(a.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),j,p(_,{modelValue:a.story,"onUpdate:modelValue":l[2]||(l[2]=l=>a.story=l),placeholder:"请填写描述",class:"story"},null,8,["modelValue"]),k,p(h,{class:"submit",type:"primary",onClick:a.submit},{default:b((()=>[x])),_:1},8,["onClick"])])])}));h.render=A,h.__scopeId="data-v-51d84565";export default h;
