import{d as l,r as a,o as e,y as s,B as t,T as d,p as o,a as i,k as u,b as r,e as n,f as c,h as p,F as f,l as m,i as y,t as _,w as h}from"./index.f00271f6.js";const v=l({name:"Upload",setup(){const l=a(),o=a(),i=a(""),r=a([]),n=a(null);e((()=>{s.get("/classify/total").then((a=>{l.value=a.data.classify,o.value=l.value[0].id})).catch((l=>{console.log(l)}))}));return{BASE_URL:t,headers:{Authorization:d},classify:l,radio:o,story:i,submit:()=>{r.value.length<1?u("文件不能为空",!1):""!==i.trim()?(n.value.submit(),s.get("")):u("描述信息不能为空",!1)},fileList:r}}}),b=h();o("data-v-51d84565");const g={id:"upload"},V=p("i",{class:"el-icon-upload"},null,-1),U=p("div",{class:"el-upload__text"},[y("将文件拖到此处，或"),p("em",null,"点击上传")],-1),k=p("div",{class:"el-upload__tip"}," 只能上传 图片 文件，且不超过 1MB ",-1),B=p("p",{class:"title"},"请选择分类",-1),L=p("p",{class:"title"},"请填写描述",-1),x=p("br",null,null,-1),A=y("上传");i();const w=b(((l,a,e,s,t,d)=>{const o=r("el-upload"),i=r("el-radio"),u=r("el-radio-group"),h=r("el-input"),v=r("el-button");return n(),c("div",g,[p(o,{class:"upload-demo",drag:"",ref:"upload",multiple:"false","show-file-list":"true","auto-upload":"false",action:l.BASE_URL+"picture/upload","file-list":l.fileList,data:l.radio,headers:l.headers,submit:""},{tip:b((()=>[k])),default:b((()=>[V,U])),_:1},8,["action","file-list","data","headers"]),p("div",null,[B,p(u,{modelValue:l.radio,"onUpdate:modelValue":a[1]||(a[1]=a=>l.radio=a)},{default:b((()=>[(n(!0),c(f,null,m(l.classify,(l=>(n(),c(i,{label:l.id,key:l.id},{default:b((()=>[y(_(l.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),L,p(h,{modelValue:l.story,"onUpdate:modelValue":a[2]||(a[2]=a=>l.story=a),placeholder:"请填写描述",class:"story"},null,8,["modelValue"]),x,p(v,{class:"submit",type:"primary",onClick:l.submit},{default:b((()=>[A])),_:1},8,["onClick"])])])}));v.render=w,v.__scopeId="data-v-51d84565";export default v;
